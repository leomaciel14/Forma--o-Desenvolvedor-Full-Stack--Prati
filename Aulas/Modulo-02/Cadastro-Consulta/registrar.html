<!DOCTYPE html>
<html lang="pt-BR">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Floreios & Borrões</title>
    <meta name="description" content="Site de Biblioteca Virtual Floreios & Borrões">
    <meta name="author" content="Leonardo Boeira Maciel">
    <meta name="keywords" content="biblioteca, virtual">
    <link rel="icon" href="./_img/fav-icon.png" type="image/png">
    <link rel="stylesheet" href="style.css">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
</head>

<body>
    <div class="head">
        <img src="./_img/logo.png" alt="Logo Biblioteca Virtual" class="logo">
        <a class="botao_head" href="index.html">Home</a>
        <a class="botao_head" href="consulta.html">Consultar Livros</a>
        <a class="botao_head" id="esta-aqui" href="registrar.html">Registrar Livro</a>
        <a class="botao_head" href="login.html">Login</a>
        <button id="toggleThemeButton" class="botao_head"></button>
    </div>

    <div class="container-form">
        <h2>Registrar Livro</h2>
        <form id="book-form" onsubmit="registerBook(); return false;">
            <div class="book-form-container">

                <div class="submit-img">
                    <img src="./_img/placeholder.jpg" id="img-preview" alt="Preview da Imagem" style="cursor: pointer;">
                </div>

                <div class="container-submit">
                    <label for="titulo">Título</label>
                    <input type="text" id="titulo" name="titulo" required>
        
                    <label for="autor">Autor</label>
                    <input type="text" id="autor" name="autor" required>
        
                    <label for="editora">Editora</label>
                    <input type="text" id="editora" name="editora" required>
        
                    <label for="ano">Ano de Lançamento</label>
                    <input type="number" id="ano" name="ano" required>
        
                    <label for="genero">Gênero</label>
                    <input type="text" id="genero" name="genero" required>
        
                    <label for="paginas">Número de Páginas</label>
                    <input type="number" id="paginas" name="paginas" required>
        
                    <label for="imagem">Imagem:</label>
                    <input type="file" id="imagem" name="imagem" accept="image/*" onchange="previewImage(event)">
                </div>
            </div>

            <button type="button" onclick="registerBook()">Registrar</button>
        </form>
    </div>

    <!-- Modal de Confirmação -->
    <div id="confirmationModal" class="modal">
        <div class="modal-content">
            <p>Livro registrado com sucesso!</p>
            <button id="confirmButton">OK</button>
        </div>
    </div>
    
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const imgPreview = document.getElementById('img-preview');
            const fileInput = document.getElementById('imagem');
    
            imgPreview.addEventListener('click', function(event) {
                event.stopPropagation();
                fileInput.click();
            });
    
            fileInput.addEventListener('click', function(event) {
                event.stopPropagation();
            });
        });
    
        function previewImage(event) {
            const input = event.target;
            const imgPreview = document.getElementById('img-preview');
    
            if (input.files && input.files[0]) {
                const reader = new FileReader();
    
                reader.onload = function(e) {
                    imgPreview.src = e.target.result;
                    imgPreview.style.display = 'block';
                }
    
                reader.readAsDataURL(input.files[0]);
            }
        }
    </script>
    
    

    <script src="./_scripts/resgistro.js"></script>
    <script src="./_scripts/dark-theme.js"></script>
    <script src="https://kit.fontawesome.com/16ea865109.js" crossorigin="anonymous"></script>
</body>

</html>